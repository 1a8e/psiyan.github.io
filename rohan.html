<!DOCTYPE html>
<html>
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link href='https://fonts.googleapis.com/css?family=Montserrat' rel='stylesheet' type='text/css'>
	<title>Aperture Labs</title>
	<style type="text/css">
		body {
			font-family: 'Montserrat', sans-serif;
			background-color: #000000;
		}
		#ticker_div {
			background-color: #D84315;
			color: #ffffff;
			
			width: 70%;
			height: 30%;
			
			position: fixed;
			top: 50%;
			left: 50%;
			transform: translate(-50%, -50%);
		}

		#datetime_ticker {
			text-align: center;
			font-size: 3vw;
		}

		#caption {
			text-align: right;
			font-size: 2vw;
			padding-right: 10%;
		}
		#debug_version {
			font-size: 8px;
			color: #111111;
		}
	</style>
</head>
<body>
	<div id="ticker_div">
		<pre width="32" id="datetime_ticker"></pre>
		<!--<p id="caption">...till doomsday</p>-->
	</div>
	<p id="debug_version">0.11a</p>
	<script>
		var displayString;
		var targetDatetime = new Date(2015, 11, 5, 4, 30, 0, 0);
		var currentDatetime;

		if (window.innerWidth < window.innerHeight) {
			document.getElementById("ticker_div").style.height = 55 + "%";
			document.getElementById("datetime_ticker").style.fontSize =
				 6 + "vh";
			document.getElementById("caption").style.fontSize = 4 + "vh";
		};

		function tickAway () {
			if ((targetDatetime.valueOf() - (new Date()).valueOf()) > 0){
				currentDatetime = 
					new Date(targetDatetime.valueOf() - (new Date()).valueOf());
				millisecondString = String(currentDatetime.getMilliseconds());
				millisecondString = Array(4-millisecondString.length).join("0") + millisecondString;
				displayString = 
					//String(currentDatetime.getDate()) + "days " + 
					String(currentDatetime.getHours()) + "hours " +
					String(currentDatetime.getMinutes()) + "minutes " + 
					String(currentDatetime.getSeconds()) + "." + millisecondString + "seconds";
				/*if (window.innerWidth < window.innerHeight) {
					displayString = 
						displayString.replace(new RegExp(" ", 'g'), " <br>");
				}*/
				document.getElementById("datetime_ticker").innerHTML = 
					displayString;
			}
			else {
				document.getElementById("datetime_ticker").innerHTML = 
					"Timezup!"
			}

		}

		setInterval(tickAway, 20);
	</script>
</body>
</html>
